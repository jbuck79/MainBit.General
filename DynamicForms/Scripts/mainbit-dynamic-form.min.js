$(function(){$('form[action$="/MainBit.General/Form/Submit"]').submit(function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;var b=$(this),c=b.serialize(),d=b.attr("action"),e=b.parents(".mb-request-notifies").add(b.find(".mb-request-notifies")),f=b.parents(".mb-request-states").add(b.find(".mb-request-states")),g={submitting:"mb-request-submitting",submitted:"mb-request-submitted"};$.ajax({url:d,type:"POST",data:c+"&isajax=true",beforeSend:function(c){f.addClass(g.submitting),b.find(":input").attr("disabled",!0)},complete:function(c){f.removeClass(g.submitting),b.find(":input").removeAttr("disabled")},success:function(a){if(void 0!=a.messages){var b=$.map(a.messages,function(a){return a.Message.Text});f.addClass(g.submitted),e.html(b[0])}},error:function(a,c,d){$(b).append("<ul><li>There was a problem with your request. Please review the information and submit again.</li></ul>")}})})});